{"ast":null,"code":"var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\n\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __export = (target, all) => {\n  for (var name in all) __defProp(target, name, {\n    get: all[name],\n    enumerable: true\n  });\n};\n\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from)) if (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {\n      get: () => from[key],\n      enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable\n    });\n  }\n\n  return to;\n};\n\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps( // If the importer is in node compatibility mode or this is not an ESM\n// file that has been converted to a CommonJS file using a Babel-\n// compatible transform (i.e. \"__esModule\" has not been set), then set\n// \"default\" to the CommonJS \"module.exports\" for node compatibility.\nisNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", {\n  value: mod,\n  enumerable: true\n}) : target, mod));\n\nvar __toCommonJS = mod => __copyProps(__defProp({}, \"__esModule\", {\n  value: true\n}), mod);\n\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n  return value;\n};\n\nvar Player_exports = {};\n\n__export(Player_exports, {\n  default: () => Player\n});\n\nmodule.exports = __toCommonJS(Player_exports);\n\nvar import_react = __toESM(require(\"react\"));\n\nvar import_react_fast_compare = __toESM(require(\"react-fast-compare\"));\n\nvar import_props = require(\"./props\");\n\nvar import_utils = require(\"./utils\");\n\nconst SEEK_ON_PLAY_EXPIRY = 5e3;\n\nclass Player extends import_react.Component {\n  constructor() {\n    super(...arguments);\n\n    __publicField(this, \"mounted\", false);\n\n    __publicField(this, \"isReady\", false);\n\n    __publicField(this, \"isPlaying\", false); // Track playing state internally to prevent bugs\n\n\n    __publicField(this, \"isLoading\", true); // Use isLoading to prevent onPause when switching URL\n\n\n    __publicField(this, \"loadOnReady\", null);\n\n    __publicField(this, \"startOnPlay\", true);\n\n    __publicField(this, \"seekOnPlay\", null);\n\n    __publicField(this, \"onDurationCalled\", false);\n\n    __publicField(this, \"handlePlayerMount\", player => {\n      if (this.player) {\n        this.progress();\n        return;\n      }\n\n      this.player = player;\n      this.player.load(this.props.url);\n      this.progress();\n    });\n\n    __publicField(this, \"getInternalPlayer\", key => {\n      if (!this.player) return null;\n      return this.player[key];\n    });\n\n    __publicField(this, \"progress\", () => {\n      if (this.props.url && this.player && this.isReady) {\n        const playedSeconds = this.getCurrentTime() || 0;\n        const loadedSeconds = this.getSecondsLoaded();\n        const duration = this.getDuration();\n\n        if (duration) {\n          const progress = {\n            playedSeconds,\n            played: playedSeconds / duration\n          };\n\n          if (loadedSeconds !== null) {\n            progress.loadedSeconds = loadedSeconds;\n            progress.loaded = loadedSeconds / duration;\n          }\n\n          if (progress.playedSeconds !== this.prevPlayed || progress.loadedSeconds !== this.prevLoaded) {\n            this.props.onProgress(progress);\n          }\n\n          this.prevPlayed = progress.playedSeconds;\n          this.prevLoaded = progress.loadedSeconds;\n        }\n      }\n\n      this.progressTimeout = setTimeout(this.progress, this.props.progressFrequency || this.props.progressInterval);\n    });\n\n    __publicField(this, \"handleReady\", () => {\n      if (!this.mounted) return;\n      this.isReady = true;\n      this.isLoading = false;\n      const {\n        onReady,\n        playing,\n        volume,\n        muted\n      } = this.props;\n      onReady();\n\n      if (!muted && volume !== null) {\n        this.player.setVolume(volume);\n      }\n\n      if (this.loadOnReady) {\n        this.player.load(this.loadOnReady, true);\n        this.loadOnReady = null;\n      } else if (playing) {\n        this.player.play();\n      }\n\n      this.handleDurationCheck();\n    });\n\n    __publicField(this, \"handlePlay\", () => {\n      this.isPlaying = true;\n      this.isLoading = false;\n      const {\n        onStart,\n        onPlay,\n        playbackRate\n      } = this.props;\n\n      if (this.startOnPlay) {\n        if (this.player.setPlaybackRate && playbackRate !== 1) {\n          this.player.setPlaybackRate(playbackRate);\n        }\n\n        onStart();\n        this.startOnPlay = false;\n      }\n\n      onPlay();\n\n      if (this.seekOnPlay) {\n        this.seekTo(this.seekOnPlay);\n        this.seekOnPlay = null;\n      }\n\n      this.handleDurationCheck();\n    });\n\n    __publicField(this, \"handlePause\", e => {\n      this.isPlaying = false;\n\n      if (!this.isLoading) {\n        this.props.onPause(e);\n      }\n    });\n\n    __publicField(this, \"handleEnded\", () => {\n      const {\n        activePlayer,\n        loop,\n        onEnded\n      } = this.props;\n\n      if (activePlayer.loopOnEnded && loop) {\n        this.seekTo(0);\n      }\n\n      if (!loop) {\n        this.isPlaying = false;\n        onEnded();\n      }\n    });\n\n    __publicField(this, \"handleError\", (...args) => {\n      this.isLoading = false;\n      this.props.onError(...args);\n    });\n\n    __publicField(this, \"handleDurationCheck\", () => {\n      clearTimeout(this.durationCheckTimeout);\n      const duration = this.getDuration();\n\n      if (duration) {\n        if (!this.onDurationCalled) {\n          this.props.onDuration(duration);\n          this.onDurationCalled = true;\n        }\n      } else {\n        this.durationCheckTimeout = setTimeout(this.handleDurationCheck, 100);\n      }\n    });\n\n    __publicField(this, \"handleLoaded\", () => {\n      this.isLoading = false;\n    });\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.progressTimeout);\n    clearTimeout(this.durationCheckTimeout);\n\n    if (this.isReady && this.props.stopOnUnmount) {\n      this.player.stop();\n\n      if (this.player.disablePIP) {\n        this.player.disablePIP();\n      }\n    }\n\n    this.mounted = false;\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!this.player) {\n      return;\n    }\n\n    const {\n      url,\n      playing,\n      volume,\n      muted,\n      playbackRate,\n      pip,\n      loop,\n      activePlayer,\n      disableDeferredLoading\n    } = this.props;\n\n    if (!(0, import_react_fast_compare.default)(prevProps.url, url)) {\n      if (this.isLoading && !activePlayer.forceLoad && !disableDeferredLoading && !(0, import_utils.isMediaStream)(url)) {\n        console.warn(`ReactPlayer: the attempt to load ${url} is being deferred until the player has loaded`);\n        this.loadOnReady = url;\n        return;\n      }\n\n      this.isLoading = true;\n      this.startOnPlay = true;\n      this.onDurationCalled = false;\n      this.player.load(url, this.isReady);\n    }\n\n    if (!prevProps.playing && playing && !this.isPlaying) {\n      this.player.play();\n    }\n\n    if (prevProps.playing && !playing && this.isPlaying) {\n      this.player.pause();\n    }\n\n    if (!prevProps.pip && pip && this.player.enablePIP) {\n      this.player.enablePIP();\n    }\n\n    if (prevProps.pip && !pip && this.player.disablePIP) {\n      this.player.disablePIP();\n    }\n\n    if (prevProps.volume !== volume && volume !== null) {\n      this.player.setVolume(volume);\n    }\n\n    if (prevProps.muted !== muted) {\n      if (muted) {\n        this.player.mute();\n      } else {\n        this.player.unmute();\n\n        if (volume !== null) {\n          setTimeout(() => this.player.setVolume(volume));\n        }\n      }\n    }\n\n    if (prevProps.playbackRate !== playbackRate && this.player.setPlaybackRate) {\n      this.player.setPlaybackRate(playbackRate);\n    }\n\n    if (prevProps.loop !== loop && this.player.setLoop) {\n      this.player.setLoop(loop);\n    }\n  }\n\n  getDuration() {\n    if (!this.isReady) return null;\n    return this.player.getDuration();\n  }\n\n  getCurrentTime() {\n    if (!this.isReady) return null;\n    return this.player.getCurrentTime();\n  }\n\n  getSecondsLoaded() {\n    if (!this.isReady) return null;\n    return this.player.getSecondsLoaded();\n  }\n\n  seekTo(amount, type, keepPlaying) {\n    if (!this.isReady) {\n      if (amount !== 0) {\n        this.seekOnPlay = amount;\n        setTimeout(() => {\n          this.seekOnPlay = null;\n        }, SEEK_ON_PLAY_EXPIRY);\n      }\n\n      return;\n    }\n\n    const isFraction = !type ? amount > 0 && amount < 1 : type === \"fraction\";\n\n    if (isFraction) {\n      const duration = this.player.getDuration();\n\n      if (!duration) {\n        console.warn(\"ReactPlayer: could not seek using fraction \\u2013\\xA0duration not yet available\");\n        return;\n      }\n\n      this.player.seekTo(duration * amount, keepPlaying);\n      return;\n    }\n\n    this.player.seekTo(amount, keepPlaying);\n  }\n\n  render() {\n    const Player2 = this.props.activePlayer;\n\n    if (!Player2) {\n      return null;\n    }\n\n    return /* @__PURE__ */import_react.default.createElement(Player2, { ...this.props,\n      onMount: this.handlePlayerMount,\n      onReady: this.handleReady,\n      onPlay: this.handlePlay,\n      onPause: this.handlePause,\n      onEnded: this.handleEnded,\n      onLoaded: this.handleLoaded,\n      onError: this.handleError\n    });\n  }\n\n}\n\n__publicField(Player, \"displayName\", \"Player\");\n\n__publicField(Player, \"propTypes\", import_props.propTypes);\n\n__publicField(Player, \"defaultProps\", import_props.defaultProps);","map":{"version":3,"sources":["C:/Users/letru/OneDrive/Documents/Dai Hoc/JavaFullstack/wheel2/node_modules/react-player/lib/Player.js"],"names":["__create","Object","create","__defProp","defineProperty","__getOwnPropDesc","getOwnPropertyDescriptor","__getOwnPropNames","getOwnPropertyNames","__getProtoOf","getPrototypeOf","__hasOwnProp","prototype","hasOwnProperty","__defNormalProp","obj","key","value","enumerable","configurable","writable","__export","target","all","name","get","__copyProps","to","from","except","desc","call","__toESM","mod","isNodeMode","__esModule","__toCommonJS","__publicField","Player_exports","default","Player","module","exports","import_react","require","import_react_fast_compare","import_props","import_utils","SEEK_ON_PLAY_EXPIRY","Component","constructor","arguments","player","progress","load","props","url","isReady","playedSeconds","getCurrentTime","loadedSeconds","getSecondsLoaded","duration","getDuration","played","loaded","prevPlayed","prevLoaded","onProgress","progressTimeout","setTimeout","progressFrequency","progressInterval","mounted","isLoading","onReady","playing","volume","muted","setVolume","loadOnReady","play","handleDurationCheck","isPlaying","onStart","onPlay","playbackRate","startOnPlay","setPlaybackRate","seekOnPlay","seekTo","e","onPause","activePlayer","loop","onEnded","loopOnEnded","args","onError","clearTimeout","durationCheckTimeout","onDurationCalled","onDuration","componentDidMount","componentWillUnmount","stopOnUnmount","stop","disablePIP","componentDidUpdate","prevProps","pip","disableDeferredLoading","forceLoad","isMediaStream","console","warn","pause","enablePIP","mute","unmute","setLoop","amount","type","keepPlaying","isFraction","render","Player2","createElement","onMount","handlePlayerMount","handleReady","handlePlay","handlePause","handleEnded","onLoaded","handleLoaded","handleError","propTypes","defaultProps"],"mappings":"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","sourcesContent":["var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nvar Player_exports = {};\n__export(Player_exports, {\n  default: () => Player\n});\nmodule.exports = __toCommonJS(Player_exports);\nvar import_react = __toESM(require(\"react\"));\nvar import_react_fast_compare = __toESM(require(\"react-fast-compare\"));\nvar import_props = require(\"./props\");\nvar import_utils = require(\"./utils\");\nconst SEEK_ON_PLAY_EXPIRY = 5e3;\nclass Player extends import_react.Component {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"mounted\", false);\n    __publicField(this, \"isReady\", false);\n    __publicField(this, \"isPlaying\", false);\n    // Track playing state internally to prevent bugs\n    __publicField(this, \"isLoading\", true);\n    // Use isLoading to prevent onPause when switching URL\n    __publicField(this, \"loadOnReady\", null);\n    __publicField(this, \"startOnPlay\", true);\n    __publicField(this, \"seekOnPlay\", null);\n    __publicField(this, \"onDurationCalled\", false);\n    __publicField(this, \"handlePlayerMount\", (player) => {\n      if (this.player) {\n        this.progress();\n        return;\n      }\n      this.player = player;\n      this.player.load(this.props.url);\n      this.progress();\n    });\n    __publicField(this, \"getInternalPlayer\", (key) => {\n      if (!this.player)\n        return null;\n      return this.player[key];\n    });\n    __publicField(this, \"progress\", () => {\n      if (this.props.url && this.player && this.isReady) {\n        const playedSeconds = this.getCurrentTime() || 0;\n        const loadedSeconds = this.getSecondsLoaded();\n        const duration = this.getDuration();\n        if (duration) {\n          const progress = {\n            playedSeconds,\n            played: playedSeconds / duration\n          };\n          if (loadedSeconds !== null) {\n            progress.loadedSeconds = loadedSeconds;\n            progress.loaded = loadedSeconds / duration;\n          }\n          if (progress.playedSeconds !== this.prevPlayed || progress.loadedSeconds !== this.prevLoaded) {\n            this.props.onProgress(progress);\n          }\n          this.prevPlayed = progress.playedSeconds;\n          this.prevLoaded = progress.loadedSeconds;\n        }\n      }\n      this.progressTimeout = setTimeout(this.progress, this.props.progressFrequency || this.props.progressInterval);\n    });\n    __publicField(this, \"handleReady\", () => {\n      if (!this.mounted)\n        return;\n      this.isReady = true;\n      this.isLoading = false;\n      const { onReady, playing, volume, muted } = this.props;\n      onReady();\n      if (!muted && volume !== null) {\n        this.player.setVolume(volume);\n      }\n      if (this.loadOnReady) {\n        this.player.load(this.loadOnReady, true);\n        this.loadOnReady = null;\n      } else if (playing) {\n        this.player.play();\n      }\n      this.handleDurationCheck();\n    });\n    __publicField(this, \"handlePlay\", () => {\n      this.isPlaying = true;\n      this.isLoading = false;\n      const { onStart, onPlay, playbackRate } = this.props;\n      if (this.startOnPlay) {\n        if (this.player.setPlaybackRate && playbackRate !== 1) {\n          this.player.setPlaybackRate(playbackRate);\n        }\n        onStart();\n        this.startOnPlay = false;\n      }\n      onPlay();\n      if (this.seekOnPlay) {\n        this.seekTo(this.seekOnPlay);\n        this.seekOnPlay = null;\n      }\n      this.handleDurationCheck();\n    });\n    __publicField(this, \"handlePause\", (e) => {\n      this.isPlaying = false;\n      if (!this.isLoading) {\n        this.props.onPause(e);\n      }\n    });\n    __publicField(this, \"handleEnded\", () => {\n      const { activePlayer, loop, onEnded } = this.props;\n      if (activePlayer.loopOnEnded && loop) {\n        this.seekTo(0);\n      }\n      if (!loop) {\n        this.isPlaying = false;\n        onEnded();\n      }\n    });\n    __publicField(this, \"handleError\", (...args) => {\n      this.isLoading = false;\n      this.props.onError(...args);\n    });\n    __publicField(this, \"handleDurationCheck\", () => {\n      clearTimeout(this.durationCheckTimeout);\n      const duration = this.getDuration();\n      if (duration) {\n        if (!this.onDurationCalled) {\n          this.props.onDuration(duration);\n          this.onDurationCalled = true;\n        }\n      } else {\n        this.durationCheckTimeout = setTimeout(this.handleDurationCheck, 100);\n      }\n    });\n    __publicField(this, \"handleLoaded\", () => {\n      this.isLoading = false;\n    });\n  }\n  componentDidMount() {\n    this.mounted = true;\n  }\n  componentWillUnmount() {\n    clearTimeout(this.progressTimeout);\n    clearTimeout(this.durationCheckTimeout);\n    if (this.isReady && this.props.stopOnUnmount) {\n      this.player.stop();\n      if (this.player.disablePIP) {\n        this.player.disablePIP();\n      }\n    }\n    this.mounted = false;\n  }\n  componentDidUpdate(prevProps) {\n    if (!this.player) {\n      return;\n    }\n    const { url, playing, volume, muted, playbackRate, pip, loop, activePlayer, disableDeferredLoading } = this.props;\n    if (!(0, import_react_fast_compare.default)(prevProps.url, url)) {\n      if (this.isLoading && !activePlayer.forceLoad && !disableDeferredLoading && !(0, import_utils.isMediaStream)(url)) {\n        console.warn(`ReactPlayer: the attempt to load ${url} is being deferred until the player has loaded`);\n        this.loadOnReady = url;\n        return;\n      }\n      this.isLoading = true;\n      this.startOnPlay = true;\n      this.onDurationCalled = false;\n      this.player.load(url, this.isReady);\n    }\n    if (!prevProps.playing && playing && !this.isPlaying) {\n      this.player.play();\n    }\n    if (prevProps.playing && !playing && this.isPlaying) {\n      this.player.pause();\n    }\n    if (!prevProps.pip && pip && this.player.enablePIP) {\n      this.player.enablePIP();\n    }\n    if (prevProps.pip && !pip && this.player.disablePIP) {\n      this.player.disablePIP();\n    }\n    if (prevProps.volume !== volume && volume !== null) {\n      this.player.setVolume(volume);\n    }\n    if (prevProps.muted !== muted) {\n      if (muted) {\n        this.player.mute();\n      } else {\n        this.player.unmute();\n        if (volume !== null) {\n          setTimeout(() => this.player.setVolume(volume));\n        }\n      }\n    }\n    if (prevProps.playbackRate !== playbackRate && this.player.setPlaybackRate) {\n      this.player.setPlaybackRate(playbackRate);\n    }\n    if (prevProps.loop !== loop && this.player.setLoop) {\n      this.player.setLoop(loop);\n    }\n  }\n  getDuration() {\n    if (!this.isReady)\n      return null;\n    return this.player.getDuration();\n  }\n  getCurrentTime() {\n    if (!this.isReady)\n      return null;\n    return this.player.getCurrentTime();\n  }\n  getSecondsLoaded() {\n    if (!this.isReady)\n      return null;\n    return this.player.getSecondsLoaded();\n  }\n  seekTo(amount, type, keepPlaying) {\n    if (!this.isReady) {\n      if (amount !== 0) {\n        this.seekOnPlay = amount;\n        setTimeout(() => {\n          this.seekOnPlay = null;\n        }, SEEK_ON_PLAY_EXPIRY);\n      }\n      return;\n    }\n    const isFraction = !type ? amount > 0 && amount < 1 : type === \"fraction\";\n    if (isFraction) {\n      const duration = this.player.getDuration();\n      if (!duration) {\n        console.warn(\"ReactPlayer: could not seek using fraction \\u2013\\xA0duration not yet available\");\n        return;\n      }\n      this.player.seekTo(duration * amount, keepPlaying);\n      return;\n    }\n    this.player.seekTo(amount, keepPlaying);\n  }\n  render() {\n    const Player2 = this.props.activePlayer;\n    if (!Player2) {\n      return null;\n    }\n    return /* @__PURE__ */ import_react.default.createElement(\n      Player2,\n      {\n        ...this.props,\n        onMount: this.handlePlayerMount,\n        onReady: this.handleReady,\n        onPlay: this.handlePlay,\n        onPause: this.handlePause,\n        onEnded: this.handleEnded,\n        onLoaded: this.handleLoaded,\n        onError: this.handleError\n      }\n    );\n  }\n}\n__publicField(Player, \"displayName\", \"Player\");\n__publicField(Player, \"propTypes\", import_props.propTypes);\n__publicField(Player, \"defaultProps\", import_props.defaultProps);\n"]},"metadata":{},"sourceType":"script"}